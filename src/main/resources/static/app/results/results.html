<h3>Tournament table</h3>

<tournamentlist #tournamentName (change)="getResults(tournamentName.getSelected());"></tournamentlist>

<table class="tournamentTable">
	<tr>
		<th>Player</th>
		<th class="right">GP</th>
		<th class="right">W</th>
		<th class="right">L</th>
		<th class="right">P</th>
		<th class="right">W%</th>
		<th class="right">+/-</th>
	</tr>
	
	<tr *ngFor="let result of results" [class.fewGames]="result.fewGames">
		<td (click)="getPlayerinfo(result, tournamentName.getSelected())">{{result.player}}
		
			<div [hidden]="!result.showInfo" *ngIf="result.playerinfo" class="playerinfo">	
				<b>Games won</b>
				<table style="width:100%;">
					<tr>
						<th></th>
						<th>Against%</th>
						<th>With%</th>
					</tr>
					
					<tr *ngFor="let enemywinpros of result.playerinfo.enemyWinPros">
						<td>{{enemywinpros.enemy}}</td>
						<td class="right" *ngIf="enemywinpros.gamesAgainst == 0">-</td>
						<td class="right" *ngIf="enemywinpros.gamesAgainst > 0">{{enemywinpros.winpros}}% ({{enemywinpros.gamesWonAgainst}} / {{enemywinpros.gamesAgainst}})</td>
						<td class="right" *ngIf="enemywinpros.gamesWith == 0">-</td>
						<td class="right" *ngIf="enemywinpros.gamesWith > 0">{{enemywinpros.winprosWith}}% ({{enemywinpros.gamesWonWith}} / {{enemywinpros.gamesWith}})</td>
					</tr>
				</table>
						
			</div>
		
		</td>
		<td class="right">{{result.games}}</td>
		<td class="right">{{result.wins}}</td>
		<td class="right">{{result.loses}}</td>
		<td class="right">{{result.points}}</td>
		<td class="right" *ngIf="result.winpros === 1000">1</td>
		<td class="right" *ngIf="result.winpros === 0">0</td>
		<td class="right" *ngIf="result.winpros < 1000 && result.winpros > 0">.{{result.winpros}}</td>
		<td class="right">{{result.plusminus}}</td>
	</tr>

</table>
